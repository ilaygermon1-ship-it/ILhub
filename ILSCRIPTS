-- ניקוי זיכרון והפעלה מחדש
_G.VoidwareLoaded = nil
task.wait(0.1)
_G.VoidwareLoaded = true

local function SafeLoad()
    local success, R = pcall(function() 
        return loadstring(game:HttpGet('https://sirius.menu/rayfield'))() 
    end)
    
    if not success or not R then return end

    local p = game.Players.LocalPlayer
    local fs, fly, nc, esp, ij, ec = 50, false, false, false, false, Color3.new(1,0,0)

    local Window = R:CreateWindow({
       Name = "Voidware | ILhub Ultimate V15.2",
       LoadingTitle = "מיוצר על ידי לירן ואיליי",
       LoadingSubtitle = "גרסה יציבה ומתוקנת",
       ConfigurationSaving = { Enabled = false }
    })

    -- טאבים
    local t = Window:CreateTab("שיגור (Teleport)", 4483362458)
    local m = Window:CreateTab("תנועה (Movement)", 4483345998)
    local v = Window:CreateTab("ראייה (Visuals)", 4483362458)
    local x = Window:CreateTab("פריצות (Exploits)", 4483362458)

    --- שיגור ---
    t:CreateSection("רשימת שחקנים")
    
    local function UpdateTP()
        for _, o in pairs(game.Players:GetPlayers()) do
            if o ~= p then
                t:CreateButton({
                    Name = "שגר אותי אל: " .. o.DisplayName, 
                    Callback = function() 
                        if o.Character and o.Character:FindFirstChild("HumanoidRootPart") then 
                            p.Character.HumanoidRootPart.CFrame = o.Character.HumanoidRootPart.CFrame 
                        end 
                    end
                })
            end
        end
    end
    UpdateTP()

    --- תנועה ---
    m:CreateSection("הגדרות דמות")
    m:CreateToggle({Name = "קפיצה אינסופית (Inf Jump)", CurrentValue = false, Callback = function(s) ij = s end})
    
    game:GetService("UserInputService").JumpRequest:Connect(function() 
        if ij and p.Character and p.Character:FindFirstChildOfClass("Humanoid") then 
            p.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping") 
        end 
    end)

    m:CreateSlider({Name = "מהירות ריצה", Range = {16, 1000}, CurrentValue = 16, Callback = function(val) if p.Character then p.Character.Humanoid.WalkSpeed = val end end})
    m:CreateSlider({Name = "גובה קפיצה", Range = {0, 1000}, CurrentValue = 50, Callback = function(val) if p.Character then p.Character.Humanoid.UseJumpPower = true p.Character.Humanoid.JumpPower = val end end})

    m:CreateSection("תעופה")
    m:CreateToggle({Name = "הפעל תעופה (Space/Q)", CurrentValue = false, Callback = function(s) 
        fly = s
        if fly and p.Character then
            local hrp = p.Character.HumanoidRootPart
            local bv = Instance.new("BodyVelocity", hrp)
            bv.MaxForce = Vector3.new(1e9, 1e9, 1e9)
            task.spawn(function()
                while fly do
                    local cam, uis = workspace.CurrentCamera.CFrame, game:GetService("UserInputService")
                    local d = Vector3.new(0,0,0)
                    if uis:IsKeyDown(Enum.KeyCode.W) then d = d + cam.LookVector * fs end
                    if uis:IsKeyDown(Enum.KeyCode.S) then d = d + cam.LookVector * -fs end
                    if uis:IsKeyDown(Enum.KeyCode.A) then d = d + cam.RightVector * -fs end
                    if uis:IsKeyDown(Enum.KeyCode.D) then d = d + cam.RightVector * fs end
                    if uis:IsKeyDown(Enum.KeyCode.Space) then d = d + Vector3.new(0, fs, 0) end
                    if uis:IsKeyDown(Enum.KeyCode.Q) then d = d + Vector3.new(0, -fs, 0) end
                    bv.Velocity = d
                    task.wait()
                end
                bv:Destroy()
            end)
        end
    end})
    m:CreateSlider({Name = "מהירות תעופה", Range = {0, 1000}, CurrentValue = 50, Callback = function(val) fs = val end})

    --- ראייה ---
    v:CreateSection("ESP")
    v:CreateToggle({Name = "הפעל סימון", CurrentValue = false, Callback = function(s) 
        esp = s 
        for _, o in pairs(game.Players:GetPlayers()) do
            if o ~= p and o.Character then
                local h = o.Character:FindFirstChild("Highlight") or Instance.new("Highlight", o.Character)
                h.Enabled = esp h.FillColor = ec
            end
        end
    end})

    --- פריצות ---
    x:CreateSection("מעבר קירות")
    x:CreateToggle({Name = "Noclip", CurrentValue = false, Callback = function(s) 
        nc = s 
        game:GetService("RunService").Stepped:Connect(function()
            if nc and p.Character then
                for _, b in pairs(p.Character:GetDescendants()) do if b:IsA("BasePart") then b.CanCollide = false end end
            end
        end)
    end})

    R:Notify({Title = "Voidware V15.2", Content = "הסקריפט נטען בהצלחה!", Duration = 5})
end

SafeLoad()
